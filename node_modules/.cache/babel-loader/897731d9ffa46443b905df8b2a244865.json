{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jison\\\\OneDrive\\\\Desktop\\\\digital-e-gram-panchayat\\\\src\\\\components\\\\AdminManageBanners.js\";\nimport React, { useState, useEffect } from 'react';\nimport { db, storage } from '../firebase';\nimport { collection, addDoc, getDocs, onSnapshot } from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nfunction AdminManageBanners() {\n  const [message, setMessage] = useState('');\n  const [imageFile, setImageFile] = useState(null);\n  const [banners, setBanners] = useState([]);\n  const handleUpload = async () => {\n    if (!imageFile || !message) return alert('Please provide both an image and a message.');\n    const storageRef = ref(storage, `banners/${Date.now()}-${imageFile.name}`);\n    await uploadBytes(storageRef, imageFile);\n    const downloadURL = await getDownloadURL(storageRef);\n    await addDoc(collection(db, 'banners'), {\n      message,\n      imageUrl: downloadURL,\n      timestamp: Date.now()\n    });\n    setMessage('');\n    setImageFile(null);\n    alert('Banner added!');\n  };\n  useEffect(() => {\n    const unsubscribe = onSnapshot(collection(db, 'banners'), snapshot => {\n      const bannerList = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setBanners(bannerList);\n    });\n    return () => unsubscribe();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Manage Banners\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/*\",\n    onChange: e => setImageFile(e.target.files[0]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    placeholder: \"Enter banner message\",\n    value: message,\n    onChange: e => setMessage(e.target.value),\n    rows: 4,\n    style: {\n      width: '100%',\n      marginTop: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleUpload,\n    style: {\n      marginTop: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, \"Upload Banner\"), /*#__PURE__*/React.createElement(\"hr\", {\n    style: {\n      margin: '20px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, \"Existing Banners\"), banners.length === 0 && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 32\n    }\n  }, \"No banners uploaded yet.\"), banners.map(banner => /*#__PURE__*/React.createElement(\"div\", {\n    key: banner.id,\n    style: {\n      marginBottom: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: banner.imageUrl,\n    alt: \"Banner\",\n    style: {\n      maxWidth: '100%',\n      height: 'auto',\n      borderRadius: '8px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 14\n    }\n  }, \"Message:\"), \" \", banner.message))));\n}\nexport default AdminManageBanners;","map":{"version":3,"names":["React","useState","useEffect","db","storage","collection","addDoc","getDocs","onSnapshot","ref","uploadBytes","getDownloadURL","AdminManageBanners","message","setMessage","imageFile","setImageFile","banners","setBanners","handleUpload","alert","storageRef","Date","now","name","downloadURL","imageUrl","timestamp","unsubscribe","snapshot","bannerList","docs","map","doc","id","data","createElement","style","padding","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","e","target","files","placeholder","value","rows","width","marginTop","onClick","margin","length","banner","key","marginBottom","src","alt","maxWidth","height","borderRadius"],"sources":["C:/Users/jison/OneDrive/Desktop/digital-e-gram-panchayat/src/components/AdminManageBanners.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db, storage } from '../firebase';\r\nimport {\r\n  collection,\r\n  addDoc,\r\n  getDocs,\r\n  onSnapshot\r\n} from 'firebase/firestore';\r\nimport {\r\n  ref,\r\n  uploadBytes,\r\n  getDownloadURL\r\n} from 'firebase/storage';\r\n\r\nfunction AdminManageBanners() {\r\n  const [message, setMessage] = useState('');\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [banners, setBanners] = useState([]);\r\n\r\n  const handleUpload = async () => {\r\n    if (!imageFile || !message) return alert('Please provide both an image and a message.');\r\n\r\n    const storageRef = ref(storage, `banners/${Date.now()}-${imageFile.name}`);\r\n    await uploadBytes(storageRef, imageFile);\r\n\r\n    const downloadURL = await getDownloadURL(storageRef);\r\n\r\n    await addDoc(collection(db, 'banners'), {\r\n      message,\r\n      imageUrl: downloadURL,\r\n      timestamp: Date.now()\r\n    });\r\n\r\n    setMessage('');\r\n    setImageFile(null);\r\n    alert('Banner added!');\r\n  };\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onSnapshot(collection(db, 'banners'), (snapshot) => {\r\n      const bannerList = snapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data()\r\n      }));\r\n      setBanners(bannerList);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h2>Manage Banners</h2>\r\n\r\n      <input\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        onChange={(e) => setImageFile(e.target.files[0])}\r\n      />\r\n      <br />\r\n      <textarea\r\n        placeholder=\"Enter banner message\"\r\n        value={message}\r\n        onChange={(e) => setMessage(e.target.value)}\r\n        rows={4}\r\n        style={{ width: '100%', marginTop: '10px' }}\r\n      />\r\n      <br />\r\n      <button onClick={handleUpload} style={{ marginTop: '10px' }}>\r\n        Upload Banner\r\n      </button>\r\n\r\n      <hr style={{ margin: '20px 0' }} />\r\n\r\n      <h3>Existing Banners</h3>\r\n      {banners.length === 0 && <p>No banners uploaded yet.</p>}\r\n      {banners.map((banner) => (\r\n        <div key={banner.id} style={{ marginBottom: '20px' }}>\r\n          <img\r\n            src={banner.imageUrl}\r\n            alt=\"Banner\"\r\n            style={{ maxWidth: '100%', height: 'auto', borderRadius: '8px' }}\r\n          />\r\n          <p><strong>Message:</strong> {banner.message}</p>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminManageBanners;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}