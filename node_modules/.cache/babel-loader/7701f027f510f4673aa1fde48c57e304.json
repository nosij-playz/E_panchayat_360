{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jison\\\\OneDrive\\\\Desktop\\\\digital-e-gram-panchayat\\\\src\\\\components\\\\AppApply.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { doc, getDoc, collection, addDoc, serverTimestamp, query, where, getDocs, updateDoc, deleteDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { auth } from '../firebase';\nfunction AppApply() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    applicationId\n  } = location.state || {};\n  const [application, setApplication] = useState(null);\n  const [userDoc, setUserDoc] = useState(null);\n  const [existingApplication, setExistingApplication] = useState(null);\n  const today = new Date().toISOString().split('T')[0];\n  const [formData, setFormData] = useState({\n    age: '',\n    gender: '',\n    income: '',\n    ward: '',\n    land: '',\n    occupation: '',\n    familyMembers: '',\n    idType: 'Aadhaar',\n    idNumber: '',\n    applyingDate: today,\n    message: ''\n  });\n  useEffect(() => {\n    var _auth$currentUser;\n    const uid = (_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.uid;\n    if (!applicationId || !uid) {\n      alert('Invalid Access');\n      navigate('/login');\n      return;\n    }\n    const fetchData = async () => {\n      try {\n        const appDoc = await getDoc(doc(db, 'applications', applicationId));\n        if (!appDoc.exists()) throw new Error('Application not found');\n        setApplication(appDoc.data());\n        const userQuery = query(collection(db, 'users'), where('email', '==', auth.currentUser.email));\n        const userSnap = await getDocs(userQuery);\n        if (userSnap.empty) throw new Error('User not found');\n        const userData = userSnap.docs[0];\n        const userId = userData.id;\n        setUserDoc({\n          id: userId,\n          ...userData.data()\n        });\n\n        // Check for existing application\n        const appQuery = query(collection(db, 'Applied'), where('applicationId', '==', applicationId), where('userId', '==', userId));\n        const appliedSnap = await getDocs(appQuery);\n        if (!appliedSnap.empty) {\n          const existing = appliedSnap.docs[0];\n          setExistingApplication({\n            id: existing.id,\n            ...existing.data()\n          });\n          setFormData(prev => ({\n            ...prev,\n            ...existing.data(),\n            applyingDate: existing.data().applyingDate || today\n          }));\n        }\n      } catch (err) {\n        console.error(err);\n        alert(err.message);\n        navigate('/dashboard');\n      }\n    };\n    fetchData();\n  }, [applicationId, navigate]);\n  const handleChange = e => {\n    setFormData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleSubmit = async () => {\n    const requiredFields = {\n      ...formData\n    };\n    delete requiredFields.applyingDate;\n    const allFilled = Object.values(requiredFields).every(val => val.trim() !== '');\n    if (!allFilled) {\n      alert('Please fill in all fields.');\n      return;\n    }\n    const applicationData = {\n      applicationId,\n      userId: userDoc.id,\n      name: userDoc.name,\n      email: userDoc.email,\n      phone: userDoc.phone,\n      ...formData,\n      verify: false,\n      // Set verify flag to false by default\n      timestamp: serverTimestamp()\n    };\n    console.log('Submitting application:', applicationData);\n    try {\n      if (existingApplication) {\n        await updateDoc(doc(db, 'Applied', existingApplication.id), applicationData);\n        alert('Application updated!');\n      } else {\n        await addDoc(collection(db, 'Applied'), applicationData);\n        alert('Application submitted!');\n      }\n      navigate('/dashboard');\n    } catch (err) {\n      console.error(err);\n      alert('Operation failed.');\n    }\n  };\n  const handleDelete = async () => {\n    if (!existingApplication) return;\n    const confirm = window.confirm(\"Are you sure you want to delete your application?\");\n    if (!confirm) return;\n    try {\n      await deleteDoc(doc(db, 'Applied', existingApplication.id));\n      alert('Application deleted.');\n      navigate('/dashboard');\n    } catch (err) {\n      console.error(err);\n      alert('Delete failed.');\n    }\n  };\n  if (!application || !userDoc) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 40\n    }\n  }, \"Loading...\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '700px',\n      margin: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, \"Apply for: \", application.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 10\n    }\n  }, \"Category:\"), \" \", application.category), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 10\n    }\n  }, \"Status:\"), \" \", application.status), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 10\n    }\n  }, \"Description:\"), \" \", application.message), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '30px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, \"Your Details\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: userDoc.name,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: userDoc.email,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: userDoc.phone || '',\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"age\",\n    placeholder: \"Age\",\n    value: formData.age,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"gender\",\n    placeholder: \"Gender\",\n    value: formData.gender,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"income\",\n    placeholder: \"Income\",\n    value: formData.income,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"ward\",\n    placeholder: \"Ward\",\n    value: formData.ward,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"land\",\n    placeholder: \"Land Area (e.g., 2 acres)\",\n    value: formData.land,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"occupation\",\n    placeholder: \"Occupation\",\n    value: formData.occupation,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"familyMembers\",\n    placeholder: \"Number of Family Members\",\n    value: formData.familyMembers,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      gap: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"idType\",\n    value: formData.idType,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Aadhaar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, \"Aadhaar\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Driving License\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, \"Driving License\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Passport\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, \"Passport\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Voter ID\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, \"Voter ID\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Other\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, \"Other\")), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"idNumber\",\n    placeholder: \"ID Number\",\n    value: formData.idNumber,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"applyingDate\",\n    value: formData.applyingDate,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"message\",\n    placeholder: \"Why are you applying?\",\n    rows: 4,\n    value: formData.message,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSubmit,\n    style: {\n      padding: '10px 20px',\n      marginTop: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, existingApplication ? 'Update Application' : 'Submit Application'), existingApplication && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDelete,\n    style: {\n      marginTop: '10px',\n      marginLeft: '10px',\n      backgroundColor: 'red',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, \"Delete Application\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => navigate('/dashboard'),\n    style: {\n      marginTop: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, \"Back to Dashboard\"));\n}\nexport default AppApply;","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","doc","getDoc","collection","addDoc","serverTimestamp","query","where","getDocs","updateDoc","deleteDoc","db","auth","AppApply","location","navigate","applicationId","state","application","setApplication","userDoc","setUserDoc","existingApplication","setExistingApplication","today","Date","toISOString","split","formData","setFormData","age","gender","income","ward","land","occupation","familyMembers","idType","idNumber","applyingDate","message","_auth$currentUser","uid","currentUser","alert","fetchData","appDoc","exists","Error","data","userQuery","email","userSnap","empty","userData","docs","userId","id","appQuery","appliedSnap","existing","prev","err","console","error","handleChange","e","target","name","value","handleSubmit","requiredFields","allFilled","Object","values","every","val","trim","applicationData","phone","verify","timestamp","log","handleDelete","confirm","window","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","maxWidth","margin","category","status","marginTop","type","readOnly","placeholder","onChange","display","gap","rows","onClick","marginLeft","backgroundColor","color"],"sources":["C:/Users/jison/OneDrive/Desktop/digital-e-gram-panchayat/src/components/AppApply.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport {\r\n  doc, getDoc, collection, addDoc, serverTimestamp, query, where, getDocs, updateDoc, deleteDoc\r\n} from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\nimport { auth } from '../firebase';\r\n\r\nfunction AppApply() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { applicationId } = location.state || {};\r\n\r\n  const [application, setApplication] = useState(null);\r\n  const [userDoc, setUserDoc] = useState(null);\r\n  const [existingApplication, setExistingApplication] = useState(null);\r\n\r\n  const today = new Date().toISOString().split('T')[0];\r\n\r\n  const [formData, setFormData] = useState({\r\n    age: '',\r\n    gender: '',\r\n    income: '',\r\n    ward: '',\r\n    land: '',\r\n    occupation: '',\r\n    familyMembers: '',\r\n    idType: 'Aadhaar',\r\n    idNumber: '',\r\n    applyingDate: today,\r\n    message: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    const uid = auth.currentUser?.uid;\r\n\r\n    if (!applicationId || !uid) {\r\n      alert('Invalid Access');\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const appDoc = await getDoc(doc(db, 'applications', applicationId));\r\n        if (!appDoc.exists()) throw new Error('Application not found');\r\n        setApplication(appDoc.data());\r\n\r\n        const userQuery = query(collection(db, 'users'), where('email', '==', auth.currentUser.email));\r\n        const userSnap = await getDocs(userQuery);\r\n        if (userSnap.empty) throw new Error('User not found');\r\n        const userData = userSnap.docs[0];\r\n        const userId = userData.id;\r\n        setUserDoc({ id: userId, ...userData.data() });\r\n\r\n        // Check for existing application\r\n        const appQuery = query(\r\n          collection(db, 'Applied'),\r\n          where('applicationId', '==', applicationId),\r\n          where('userId', '==', userId)\r\n        );\r\n        const appliedSnap = await getDocs(appQuery);\r\n\r\n        if (!appliedSnap.empty) {\r\n          const existing = appliedSnap.docs[0];\r\n          setExistingApplication({ id: existing.id, ...existing.data() });\r\n          setFormData(prev => ({\r\n            ...prev,\r\n            ...existing.data(),\r\n            applyingDate: existing.data().applyingDate || today\r\n          }));\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n        alert(err.message);\r\n        navigate('/dashboard');\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [applicationId, navigate]);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const requiredFields = { ...formData };\r\n    delete requiredFields.applyingDate;\r\n\r\n    const allFilled = Object.values(requiredFields).every(val => val.trim() !== '');\r\n    if (!allFilled) {\r\n      alert('Please fill in all fields.');\r\n      return;\r\n    }\r\n\r\n    const applicationData = {\r\n      applicationId,\r\n      userId: userDoc.id,\r\n      name: userDoc.name,\r\n      email: userDoc.email,\r\n      phone: userDoc.phone,\r\n      ...formData,\r\n      verify: false, // Set verify flag to false by default\r\n      timestamp: serverTimestamp()\r\n    };\r\n\r\n    console.log('Submitting application:', applicationData);\r\n\r\n    try {\r\n      if (existingApplication) {\r\n        await updateDoc(doc(db, 'Applied', existingApplication.id), applicationData);\r\n        alert('Application updated!');\r\n      } else {\r\n        await addDoc(collection(db, 'Applied'), applicationData);\r\n        alert('Application submitted!');\r\n      }\r\n      navigate('/dashboard');\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Operation failed.');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!existingApplication) return;\r\n\r\n    const confirm = window.confirm(\"Are you sure you want to delete your application?\");\r\n    if (!confirm) return;\r\n\r\n    try {\r\n      await deleteDoc(doc(db, 'Applied', existingApplication.id));\r\n      alert('Application deleted.');\r\n      navigate('/dashboard');\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Delete failed.');\r\n    }\r\n  };\r\n\r\n  if (!application || !userDoc) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <div style={{ padding: '20px', maxWidth: '700px', margin: 'auto' }}>\r\n      <h2>Apply for: {application.name}</h2>\r\n      <p><strong>Category:</strong> {application.category}</p>\r\n      <p><strong>Status:</strong> {application.status}</p>\r\n      <p><strong>Description:</strong> {application.message}</p>\r\n\r\n      <div style={{ marginTop: '30px' }}>\r\n        <h3>Your Details</h3>\r\n        <input type=\"text\" value={userDoc.name} readOnly />\r\n        <input type=\"text\" value={userDoc.email} readOnly />\r\n        <input type=\"text\" value={userDoc.phone || ''} readOnly />\r\n\r\n        <input name=\"age\" placeholder=\"Age\" value={formData.age} onChange={handleChange} />\r\n        <input name=\"gender\" placeholder=\"Gender\" value={formData.gender} onChange={handleChange} />\r\n        <input name=\"income\" placeholder=\"Income\" value={formData.income} onChange={handleChange} />\r\n        <input name=\"ward\" placeholder=\"Ward\" value={formData.ward} onChange={handleChange} />\r\n        <input name=\"land\" placeholder=\"Land Area (e.g., 2 acres)\" value={formData.land} onChange={handleChange} />\r\n        <input name=\"occupation\" placeholder=\"Occupation\" value={formData.occupation} onChange={handleChange} />\r\n        <input name=\"familyMembers\" placeholder=\"Number of Family Members\" value={formData.familyMembers} onChange={handleChange} />\r\n\r\n        <div style={{ display: 'flex', gap: '10px' }}>\r\n          <select name=\"idType\" value={formData.idType} onChange={handleChange}>\r\n            <option value=\"Aadhaar\">Aadhaar</option>\r\n            <option value=\"Driving License\">Driving License</option>\r\n            <option value=\"Passport\">Passport</option>\r\n            <option value=\"Voter ID\">Voter ID</option>\r\n            <option value=\"Other\">Other</option>\r\n          </select>\r\n          <input name=\"idNumber\" placeholder=\"ID Number\" value={formData.idNumber} onChange={handleChange} />\r\n        </div>\r\n\r\n        <input name=\"applyingDate\" value={formData.applyingDate} readOnly />\r\n        <textarea name=\"message\" placeholder=\"Why are you applying?\" rows={4} value={formData.message} onChange={handleChange} />\r\n\r\n        <button onClick={handleSubmit} style={{ padding: '10px 20px', marginTop: '10px' }}>\r\n          {existingApplication ? 'Update Application' : 'Submit Application'}\r\n        </button>\r\n\r\n        {existingApplication && (\r\n          <button onClick={handleDelete} style={{ marginTop: '10px', marginLeft: '10px', backgroundColor: 'red', color: 'white' }}>\r\n            Delete Application\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <button onClick={() => navigate('/dashboard')} style={{ marginTop: '20px' }}>\r\n        Back to Dashboard\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppApply;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}