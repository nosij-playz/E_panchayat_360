{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jison\\\\OneDrive\\\\Desktop\\\\digital-e-gram-panchayat\\\\src\\\\components\\\\MonitorCheckedApp.js\";\nimport React, { useEffect, useState } from 'react';\nimport { collection, getDocs, doc, getDoc, updateDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\nfunction MonitorCheckedApp() {\n  const [checkedApps, setCheckedApps] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const checkedSnap = await getDocs(collection(db, 'CheckedApp'));\n      const temp = [];\n      for (const docSnap of checkedSnap.docs) {\n        const data = docSnap.data();\n        const appliedRef = doc(db, 'Applied', data.appliedId);\n        const appRef = doc(db, 'applications', data.applicationId);\n        const [appliedSnap, appSnap] = await Promise.all([getDoc(appliedRef), getDoc(appRef)]);\n        if (appliedSnap.exists() && appSnap.exists()) {\n          temp.push({\n            id: docSnap.id,\n            status: data.status,\n            staffId: data.staffId,\n            applied: appliedSnap.data(),\n            application: appSnap.data()\n          });\n        }\n      }\n      setCheckedApps(temp);\n    };\n    fetchData();\n  }, []);\n  const updateStatus = async (id, newStatus) => {\n    const ref = doc(db, 'CheckedApp', id);\n    await updateDoc(ref, {\n      status: newStatus\n    });\n    setCheckedApps(prev => prev.map(item => item.id === id ? {\n      ...item,\n      status: newStatus\n    } : item));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '1000px',\n      margin: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"Monitor Checked Applications\"), checkedApps.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"No checked applications available.\") : checkedApps.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    style: {\n      border: '1px solid #ccc',\n      padding: '15px',\n      borderRadius: '10px',\n      marginBottom: '15px',\n      background: '#f9f9f9'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 16\n    }\n  }, \"Applicant Name:\"), \" \", item.applied.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 16\n    }\n  }, \"Phone:\"), \" \", item.applied.phone), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 16\n    }\n  }, \"Application:\"), \" \", item.application.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 16\n    }\n  }, \"Status:\"), \" \", item.status), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => updateStatus(item.id, 'Confirmed'),\n    style: {\n      marginRight: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, \"Confirm\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => updateStatus(item.id, 'Recheck'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"Recheck\")))));\n}\nexport default MonitorCheckedApp;","map":{"version":3,"names":["React","useEffect","useState","collection","getDocs","doc","getDoc","updateDoc","db","MonitorCheckedApp","checkedApps","setCheckedApps","fetchData","checkedSnap","temp","docSnap","docs","data","appliedRef","appliedId","appRef","applicationId","appliedSnap","appSnap","Promise","all","exists","push","id","status","staffId","applied","application","updateStatus","newStatus","ref","prev","map","item","createElement","style","padding","maxWidth","margin","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","index","key","border","borderRadius","marginBottom","background","name","phone","marginTop","onClick","marginRight"],"sources":["C:/Users/jison/OneDrive/Desktop/digital-e-gram-panchayat/src/components/MonitorCheckedApp.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { collection, getDocs, doc, getDoc, updateDoc } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\n\r\nfunction MonitorCheckedApp() {\r\n  const [checkedApps, setCheckedApps] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const checkedSnap = await getDocs(collection(db, 'CheckedApp'));\r\n      const temp = [];\r\n\r\n      for (const docSnap of checkedSnap.docs) {\r\n        const data = docSnap.data();\r\n        const appliedRef = doc(db, 'Applied', data.appliedId);\r\n        const appRef = doc(db, 'applications', data.applicationId);\r\n\r\n        const [appliedSnap, appSnap] = await Promise.all([getDoc(appliedRef), getDoc(appRef)]);\r\n\r\n        if (appliedSnap.exists() && appSnap.exists()) {\r\n          temp.push({\r\n            id: docSnap.id,\r\n            status: data.status,\r\n            staffId: data.staffId,\r\n            applied: appliedSnap.data(),\r\n            application: appSnap.data(),\r\n          });\r\n        }\r\n      }\r\n\r\n      setCheckedApps(temp);\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const updateStatus = async (id, newStatus) => {\r\n    const ref = doc(db, 'CheckedApp', id);\r\n    await updateDoc(ref, { status: newStatus });\r\n    setCheckedApps(prev =>\r\n      prev.map(item => (item.id === id ? { ...item, status: newStatus } : item))\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px', maxWidth: '1000px', margin: 'auto' }}>\r\n      <h2>Monitor Checked Applications</h2>\r\n\r\n      {checkedApps.length === 0 ? (\r\n        <p>No checked applications available.</p>\r\n      ) : (\r\n        checkedApps.map((item, index) => (\r\n          <div\r\n            key={index}\r\n            style={{\r\n              border: '1px solid #ccc',\r\n              padding: '15px',\r\n              borderRadius: '10px',\r\n              marginBottom: '15px',\r\n              background: '#f9f9f9'\r\n            }}\r\n          >\r\n            <p><strong>Applicant Name:</strong> {item.applied.name}</p>\r\n            <p><strong>Phone:</strong> {item.applied.phone}</p>\r\n            <p><strong>Application:</strong> {item.application.name}</p>\r\n            <p><strong>Status:</strong> {item.status}</p>\r\n            <div style={{ marginTop: '10px' }}>\r\n              <button\r\n                onClick={() => updateStatus(item.id, 'Confirmed')}\r\n                style={{ marginRight: '10px' }}\r\n              >\r\n                Confirm\r\n              </button>\r\n              <button\r\n                onClick={() => updateStatus(item.id, 'Recheck')}\r\n              >\r\n                Recheck\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MonitorCheckedApp;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}