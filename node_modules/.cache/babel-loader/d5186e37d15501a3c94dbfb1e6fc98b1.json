{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jison\\\\OneDrive\\\\Desktop\\\\digital-e-gram-panchayat\\\\src\\\\components\\\\CheckStatus.js\";\n// src/pages/CheckStatus.js\nimport React, { useEffect, useState } from \"react\";\nimport { collection, query, where, onSnapshot, doc, getDoc } from \"firebase/firestore\";\nimport { db, auth } from \"../firebase\"; //  ← adjust if your paths differ\n\nconst mapCheckedStatus = checked => {\n  if (!checked) return \"Applied\"; // verified but not yet checked\n  const label = (checked.status || \"\").toLowerCase();\n  if (label === \"confirmed\") return \"Application Confirmed\";\n  if (label === \"rechecked\") return \"Application forwarded to re-checking\";\n  return checked.status || \"In review\";\n};\nexport default function CheckStatus() {\n  const [rows, setRows] = useState([]);\n  useEffect(() => {\n    var _auth$currentUser;\n    const uid = (_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.uid;\n    if (!uid) return;\n\n    // 1️⃣  listen to all applications created by the current user\n    const q = query(collection(db, \"Applied\"), where(\"userId\", \"==\", uid));\n    const unsub = onSnapshot(q, async snap => {\n      // build a table row for every application\n      const temp = await Promise.all(snap.docs.map(async docSnap => {\n        const data = docSnap.data();\n        let status = \"Applied\";\n        if (data.verify) {\n          // 2️⃣  look for a matching document in CheckedApp (same ID)\n          const checkedSnap = await getDoc(doc(db, \"CheckedApp\", docSnap.id));\n          status = mapCheckedStatus(checkedSnap.exists() && checkedSnap.data());\n        }\n        return {\n          id: docSnap.id,\n          category: data.category || \"—\",\n          name: data.name || \"—\",\n          status\n        };\n      }));\n      setRows(temp);\n    });\n    return () => unsub(); // cleanup on unmount\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-2xl font-semibold mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"Your Applications\"), rows.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"No applications found.\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overflow-x-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"min-w-full text-sm border-collapse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"bg-gray-800/40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-4 py-2 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"Application\\xA0ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-4 py-2 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-4 py-2 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"px-4 py-2 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Status\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, rows.map(r => /*#__PURE__*/React.createElement(\"tr\", {\n    key: r.id,\n    className: \"border-t border-gray-700/40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"px-4 py-2 font-mono\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }, r.id), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"px-4 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, r.name), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"px-4 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, r.category), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"px-4 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  }, r.status)))))));\n}","map":{"version":3,"names":["React","useEffect","useState","collection","query","where","onSnapshot","doc","getDoc","db","auth","mapCheckedStatus","checked","label","status","toLowerCase","CheckStatus","rows","setRows","_auth$currentUser","uid","currentUser","q","unsub","snap","temp","Promise","all","docs","map","docSnap","data","verify","checkedSnap","id","exists","category","name","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","r","key"],"sources":["C:/Users/jison/OneDrive/Desktop/digital-e-gram-panchayat/src/components/CheckStatus.js"],"sourcesContent":["// src/pages/CheckStatus.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  collection,\r\n  query,\r\n  where,\r\n  onSnapshot,\r\n  doc,\r\n  getDoc,\r\n} from \"firebase/firestore\";\r\nimport { db, auth } from \"../firebase\";              //  ← adjust if your paths differ\r\n\r\nconst mapCheckedStatus = (checked) => {\r\n  if (!checked) return \"Applied\";                    // verified but not yet checked\r\n  const label = (checked.status || \"\").toLowerCase();\r\n  if (label === \"confirmed\") return \"Application Confirmed\";\r\n  if (label === \"rechecked\") return \"Application forwarded to re-checking\";\r\n  return checked.status || \"In review\";\r\n};\r\n\r\nexport default function CheckStatus() {\r\n  const [rows, setRows] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const uid = auth.currentUser?.uid;\r\n    if (!uid) return;\r\n\r\n    // 1️⃣  listen to all applications created by the current user\r\n    const q = query(collection(db, \"Applied\"), where(\"userId\", \"==\", uid));\r\n    const unsub = onSnapshot(q, async (snap) => {\r\n      // build a table row for every application\r\n      const temp = await Promise.all(\r\n        snap.docs.map(async (docSnap) => {\r\n          const data = docSnap.data();\r\n          let status = \"Applied\";\r\n\r\n          if (data.verify) {\r\n            // 2️⃣  look for a matching document in CheckedApp (same ID)\r\n            const checkedSnap = await getDoc(doc(db, \"CheckedApp\", docSnap.id));\r\n            status = mapCheckedStatus(checkedSnap.exists() && checkedSnap.data());\r\n          }\r\n\r\n          return {\r\n            id: docSnap.id,\r\n            category: data.category || \"—\",\r\n            name: data.name || \"—\",\r\n            status,\r\n          };\r\n        })\r\n      );\r\n      setRows(temp);\r\n    });\r\n\r\n    return () => unsub(); // cleanup on unmount\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-semibold mb-4\">Your Applications</h1>\r\n\r\n      {rows.length === 0 ? (\r\n        <p>No applications found.</p>\r\n      ) : (\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full text-sm border-collapse\">\r\n            <thead>\r\n              <tr className=\"bg-gray-800/40\">\r\n                <th className=\"px-4 py-2 text-left\">Application&nbsp;ID</th>\r\n                <th className=\"px-4 py-2 text-left\">Name</th>\r\n                <th className=\"px-4 py-2 text-left\">Category</th>\r\n                <th className=\"px-4 py-2 text-left\">Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rows.map((r) => (\r\n                <tr key={r.id} className=\"border-t border-gray-700/40\">\r\n                  <td className=\"px-4 py-2 font-mono\">{r.id}</td>\r\n                  <td className=\"px-4 py-2\">{r.name}</td>\r\n                  <td className=\"px-4 py-2\">{r.category}</td>\r\n                  <td className=\"px-4 py-2\">{r.status}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}